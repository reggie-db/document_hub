resources:
  pipelines:
    document_hub_pipeline:
      name: document_hub

      catalog: ${var.catalog_name}
      schema: ${var.schema_name}
      channel: PREVIEW
      serverless: true
      photon: true
      
      environment:
        dependencies:
          - databricks-vectorsearch
          - magika
          - resvg_py
      configuration:
        catalog_name: ${var.catalog_name}
        schema_name: ${var.schema_name}
        volume_name: ${var.volume_name}
      libraries:
        - glob:
            include: ../src/transformations/**
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}/files/src
